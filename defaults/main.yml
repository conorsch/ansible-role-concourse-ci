---
# defaults file for concourse-ci
concourse_user: concourse
concourse_config_dir: /etc/concourse
concourse_web_port: 8080

concourse_version: "3.10.0"

# Support retrieving hardcoded checksums per version. Must be SHA512 checksum.
concourse_checksum_map:
  3.10.0: fb39350400df0bca25e2b211233b4643d32582e2e95c4ad5066afe8ea7fe41d80f2ba4c71068d22cb98f764a356c560af51ecf085822260f402929edcde19102

# Convenient override, will be interpolated below.
concourse_external_url: "http://{{ ansible_default_ipv4.address }}:{{ concourse_web_port }}"

# Configurations for systemd services. Service name is key, with value
# being a map of environment variables.
concourse_environments:
  web:
    CONCOURSE_BASIC_AUTH_PASSWORD: test
    CONCOURSE_BASIC_AUTH_USERNAME: test
    CONCOURSE_BIND_IP: 127.0.0.1
    CONCOURSE_EXTERNAL_URL: "{{ concourse_external_url }}"
    CONCOURSE_SESSION_SIGNING_KEY: "{{ concourse_config_dir }}/session_signing_key"
    CONCOURSE_TSA_AUTHORIZED_KEYS: "{{ concourse_config_dir }}/authorized_worker_keys"
    CONCOURSE_TSA_HOST_KEY: "{{ concourse_config_dir }}/tsa_key"
  worker:
    CONCOURSE_TSA_HOST: 127.0.0.1
    CONCOURSE_TSA_PUBLIC_KEY: "{{ concourse_config_dir }}/tsa_key.pub"
    CONCOURSE_TSA_WORKER_PRIVATE_KEY: "{{ concourse_config_dir }}/worker_key"
    CONCOURSE_WORK_DIR: /var/lib/concourse
